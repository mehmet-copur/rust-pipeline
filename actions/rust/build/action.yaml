name: 'Build Project'
description: 'Compiles the Rust project, utilizing cached dependencies for efficiency.'
inputs:
  features:
    description: 'Optional features to build with.'
    required: false
    default: ''
  release:
    description: 'Whether to perform a release build.'
    required: false
    default: 'false'
runs:
  using: 'composite'
  steps:
    - name: Build Project
      run: |
        FEATURES_FLAG=""
        if [ -n "${{ inputs.features }}" ]; then
          FEATURES_FLAG="--features ${{ inputs.features }}"
        fi
        
        RELEASE_FLAG=""
        if [ "${{ inputs.release }}" == "true" ]; then
          RELEASE_FLAG="--release"
        fi
        
        cargo build --verbose $RELEASE_FLAG $FEATURES_FLAG
      shell: bash
